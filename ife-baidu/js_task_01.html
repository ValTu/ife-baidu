<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>JS task 01</title>
</head>
<body>
	<label>请输入北京今天空气质量：<input id="aqi-input" type="text"></label>
	<button id="button">确认填写</button>
	<div>您输入的值是：<span id="aqi-display">尚无录入</span></div>

	<script>
	(function() {
		/*	
		  在注释下方写下代码
		  给按钮button绑定一个点击事件
		  在事件处理函数中
		  获取aqi-input输入的值，并显示在aqi-display中
		 */

		var oInput = document.getElementById("aqi-input");
		var oBtn = document.getElementById("button");
		var oSpan = document.getElementById("aqi-display");

		var handle = function () {
			oSpan.innerHTML = oInput.value;
		};

		//检测input 输入的值
		oInput.onkeyup = function (event) {
			event = event || window.event;
			//去除非数字，/[^\d]/匹配非数字
			this.value = this.value.replace(/[^\d]/, "");

			//输入范围0-999
			if(parseInt(this.value) > 999) {
				this.value = this.value.substr(0, 3);
				alert("输入范围为0-999！");
			}
			if(event.keyCode == 13) {
				handle();
			}

			//去除数字之前的0
			for(var i = 0; i < this.value.length; i++) {
				// var Value = null;
				if(this.value.charAt(i) != 0) {
					this.value = this.value.substr(i, this.value.length);
					return;
				}
			}
		};

		//button点击事件
		oBtn.onclick = function () {
			handle();
		};

	})();

	</script>
</body>
</html>